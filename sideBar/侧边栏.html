<!DOCTYPE html>
<html lang="en" ng-app="myApp">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>侧边栏</title>

    <script src="http://how2j.cn/study/js/jquery/2.0.0/jquery.min.js"></script>
    <script src="http://how2j.cn/study/js/bootstrap/3.3.6/bootstrap.min.js"></script>
    <script src="https://cdn.bootcss.com/angular.js/1.6.1/angular.min.js"></script>

    <script src="metismenu-master/src/metisMenu.js"></script>
    <link href="sb-admin.css" rel="stylesheet">

    <link href="http://how2j.cn/study/css/bootstrap/3.3.6/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="metismenu-master/src/metisMenu.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.2/css/font-awesome.min.css">
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body ng-controller="myCtrl">

<div class="wrapper">
    <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">侧边栏</a>
        </div>
        <div class="navbar-default sidebar" role="navigation">
            <div class="sidebar-nav navbar-collapse">
                <ul class="nav metismenu" id="side-menu">
                    <li>
                        <a href="#">
                            <i class="fa fa-wrench fa-fw"></i>
                            后台管理
                            <span class="fa arrow"></span>
                        </a>
                        <ul class="nav nav-second-level">
                            <li>
                                <a class="test" ui-sref="admin.password">修改密码</a>
                            </li>
                            <li>
                                <a class="test"  ui-sref="admin.accountManage">账户管理</a>
                            </li>
                            <li>
                                <a class="test" ui-sref="admin.roleManage">角色管理</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="#" >
                            <i class="fa fa-wrench fa-fw"></i>
                            列表管理
                            <span class="fa arrow"></span>
                        </a>
                        <ul class="nav nav-second-level">

                            <li>
                                <a class="test" ui-sref="admin.video">影像部</a>
                            </li>
                            <li>
                                <a class="test"  ui-sref="admin.article">文学部</a>
                            </li>
                            <li>
                                <a class="test" ui-sref="admin.user">学生证</a>
                            </li>
                        </ul>
                    </li>


                </ul>
            </div>
        </div>
    </nav>
</div>
<div class="page-wrapper">
</div>

<script>
    angular.module('myApp', [])
        .controller('myCtrl', function ($scope, $timeout) {
//
//                $('#side-menu').metisMenu({
//                    activeClass: 'active',
//                    preventDefault: false
//                });
            $timeout(function () {
                $('#side-menu').metisMenu();
            }, 100);
            $timeout(function () {
                var element = $('ul.nav a').filter(function () {
                    return this.getAttribute('ui-sref') === $scope.current;
                }).addClass('active').parent();
                while (true) {
                    if (element.is('li')) {
                        element = element.parent().addClass('in').parent();
                    } else {
                        break;
                    }
                }

                $('.test').click(function () {
                    $('.test').removeClass('active');
                    $(this).addClass('active')
                });
            });


        });

</script>

</body>

</html>
